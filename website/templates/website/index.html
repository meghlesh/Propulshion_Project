{% load static %}
{% load form_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Propulsion Technology - Digital Story Pioneers</title>
    <link rel="icon" type="image/png" href="{% static 'img/logo6.png'%}">
    <!-- Load Poppins Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
    /* Custom styles for mobile menu and responsive behavior */
.nav-links.mobile-active {
    display: flex !important;
    flex-direction: column;
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    background: white;
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    padding: 1rem 0;
    border-radius: 0 0 16px 16px;
}

.nav-links a.active {
    background-color: #053830 !important;
    color: white !important;
    font-weight:¬†700;
}

@media (min-width: 768px) {
    .nav-links {
        display: flex !important;
        /* Added to ensure full visibility and correct positioning on tablets/desktops */
        position: static !important; 
        padding: 0 !important;
        background: transparent !important;
        box-shadow: none !important;
    }
    .mobile-menu-toggle {
        display: none;
    }
}

/* Subtle texture for the feedback section using the new accent color */
.feedback-texture {
    /* Using a light background color from the palette: D2E8B8 */
    background-image: radial-gradient(circle at center, rgba(5, 56, 48, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
}

/* Pulse animation for the main CTA button */
@keyframes pulse-once {
    0%   { box-shadow: 0 0 0 0 var(--color-pulse-shadow); }
    70%  { box-shadow: 0 0 0 10px rgba(210, 232, 184, 0); }
    100% { box-shadow: 0 0 0 0 rgba(210, 232, 184, 0); }
}
.animate-pulse-once {
    --color-pulse-shadow: #FF9728; /* Using highlight color for pulse visibility */
    animation: pulse-once 1.5s ease-out 1;
}

/* Parallax and Animation Styles */
.parallax-layer {
    will-change: transform;
    transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* FLOATING ANIMATION */
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50%      { transform: translateY(-15px); }
}
.float-animation {
    animation: float 5s ease-in-out infinite;
}

/* Fade in up */
@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to   { opacity: 1; transform: translateY(0); }
}
.fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
    opacity: 0;
}

/* Scroll Reveal */
.reveal {
    opacity: 0;
    transform: translateY(50px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
}
.reveal.active {
    opacity: 1;
    transform: translateY(0);
}

/* Stagger children animations */
.stagger-item {
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
}
.stagger-item.active {
    opacity: 1;
    transform: translateY(0);
}

/* --- SLIDER/CAROUSEL STYLES START --- */
.horizontal-scroll-snap::-webkit-scrollbar {
    display: none;
}

/* Enable horizontal scrolling and hide default scrollbar */
.horizontal-scroll-snap {
    display: flex;
    gap: 2rem; /* Added gap between cards */
    overflow-x: auto;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    /* Hide scrollbar for IE, Edge and Firefox */
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
    cursor: grab; /* Indicates it's draggable */
}
.horizontal-scroll-snap.is-dragging {
    cursor: grabbing;
}

/* Card width ensures multiple cards fit and scroll nicely */
.service-list-card {
    /* UPDATED: Increased width for a bigger, edge-to-edge feel */
    min-width: 360px; /* Base width for mobile */
    max-width: 360px;
    flex-shrink: 0; /* Prevents cards from shrinking */
    scroll-snap-align: start; /* Snap to the start of each card */
}

/* Ensure the portfolio card also matches the service card width */
#portfolio-slider > div {
    min-width: 360px;
    max-width: 360px;
    flex-shrink: 0;
}

/* --- SLIDER/CAROUSEL STYLES END --- */

/* --- CLIENT LOGO MARQUEE STYLES START --- */
/* Marquee container */
.client-marquee {
    overflow: hidden;
    position: relative;
    width: 100%;
}

/* Inner track: duplicate your logos inside this element to achieve continuous effect */
.client-marquee__track {
    display: flex;
    gap: 2rem;
    width: 200%; /* because we duplicate the set of logos */
    animation: scroll 20s linear infinite;
    align-items: center;
    will-change: transform;
}

/* Individual logo/item */
.client-marquee__item {
    flex: 0 0 auto;
}

/* Keyframes: translateX(-50%) moves one duplicated set completely out */
@keyframes scroll {
    0%   { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}
/* --- CLIENT LOGO MARQUEE STYLES END --- */


        /* --- CLIENT LOGO MARQUEE STYLES START --- */
        /* 1. Define the keyframes for the continuous horizontal movement */
        @keyframes scroll {
            0% { transform: translateX(0); }
            /* Translate left by exactly half the total width of the inner container (one duplicated set) */
            100% { transform: translateX(-50%); }
        }

        /* 2. Apply the animation to the inner content container */
        .client-marquee-content {
            animation: scroll 30s linear infinite; /* 30 seconds, linear, infinite loop */
            width: 200%; /* CRUCIAL: Must be 2x the content width for seamless loop */
        }

        /* 3. Outer masking container for overflow and gradient fade */
        .client-marquee {
            overflow: hidden;
            /* Creates a gradient fade at the left and right edges */
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent); 
            -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }
        
        /* 4. Individual logo item styling and hover effects */
        .client-logo-item {
            flex-shrink: 0;
            width: 180px; /* Width for each logo area */
            height: 100px; 
            padding: 10px 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0.6; /* Slight transparency when not hovered */
            transition: opacity 0.3s;
        }

        .client-logo-item:hover {
            opacity: 1;
        }

        .client-logo-item img {
            max-height: 100%;
            max-width: 100%;
            object-fit: contain;
            filter: grayscale(0%); /* Start as grayscale */
            transition: filter 0.3s;
        }
        
        .client-logo-item:hover img {
            filter: grayscale(0%); /* Full color on hover */
        }
        /* --- CLIENT LOGO MARQUEE STYLES END --- */

        /* --- BLOG SLIDER STYLING --- */
#blog-slider::-webkit-scrollbar {
  display: none;
}
#blog-slider {
  display: flex;
  gap: 2rem; /* Same spacing as portfolio */
  overflow-x: auto;
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  -ms-overflow-style: none; /* IE/Edge */
  scrollbar-width: none; /* Firefox */
  cursor: grab;
}
#blog-slider.is-dragging {
  cursor: grabbing;
}

/* Blog cards sizing same as portfolio */
#blog-slider > a {
  min-width: 360px;
  max-width: 360px;
  flex-shrink: 0;
  scroll-snap-align: start;
}


/* Animation for the main graphic bobbing up and down */
@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

/* Animation for the icons rotating around the center */
@keyframes orbit {
    from { transform: rotate(0deg) translateX(80px) rotate(0deg); }
    to { transform: rotate(360deg) translateX(80px) rotate(-360deg); }
}

/* Subtle pulse for the background glow */
@keyframes pulse-soft {
    0%, 100% { opacity: 0.4; scale: 1; }
    50% { opacity: 0.8; scale: 1.1; }
}

.animate-float { animation: float 6s ease-in-out infinite; }
.animate-orbit-1 { animation: orbit 12s linear infinite; }
.animate-orbit-2 { animation: orbit 15s linear infinite reverse; }
.animate-pulse-soft { animation: pulse-soft 4s ease-in-out infinite; }

/* ------------------------------------ */
/* --- 3D ROTATING CUBE ANIMATION (ENHANCED) --- */
/* ------------------------------------ */
@keyframes rotate3D {
    0% { transform: rotateX(25deg) rotateY(25deg) rotateZ(0deg); }
    100% { transform: rotateX(25deg) rotateY(385deg) rotateZ(0deg); } /* Rotates 360 degrees + starts at 25deg */
}
.cube-container {
    perspective: 1000px; /* Increased depth */
    display: flex;
    align-items: center;
    justify-content: center;
}
.rotating-cube {
    width: 180px; /* Increased size */
    height: 180px;
    position: relative;
    transform-style: preserve-3d;
    animation: rotate3D 30s linear infinite; /* Slower rotation */
    transform: rotateX(25deg) rotateY(25deg); /* Better starting angle */
}
.cube-face {
    position: absolute;
    width: 180px; /* Increased size */
    height: 180px;
    opacity: 0.95;
    /* Updated styling for a glossy/tech look */
    /* Removed individual background colors here, applying them with gradients below */
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow: 0 0 50px rgba(255, 151, 40, 0.5); /* Stronger glow shadow using highlight color */
    transition: transform 0.5s;
    backface-visibility: hidden;
    
    /* Centering content for the Digital Marketing icons */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white; /* Default text color */
    font-weight: bold;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
    /* Ensures rounded corners are preserved */
    overflow: hidden; 
}

/* Positioning and gradient coloring of each face */
/* Faces with light background get dark text */
.front  { transform: rotateY(  0deg) translateZ(90px); background: linear-gradient(135deg, rgba(255, 151, 40, 0.9), rgba(255, 151, 40, 0.6)); }
.back   { transform: rotateY(180deg) translateZ(90px); background: linear-gradient(135deg, rgba(5, 56, 48, 0.9), rgba(5, 56, 48, 0.6)); }
.right  { transform: rotateY( 90deg) translateZ(90px); background: linear-gradient(135deg, rgba(210, 232, 184, 0.9), rgba(210, 232, 184, 0.6)); color: #053830; }
.left   { transform: rotateY(-90deg) translateZ(90px); background: linear-gradient(-45deg, rgba(5, 56, 48, 0.9), rgba(5, 56, 48, 0.6)); }
.top    { transform: rotateX( 90deg) translateZ(90px); background: linear-gradient(135deg, rgba(210, 232, 184, 0.9), rgba(210, 232, 184, 0.6)); color: #053830; }
.bottom { transform: rotateX(-90deg) translateZ(90px); background: linear-gradient(-45deg, rgba(255, 151, 40, 0.9), rgba(255, 151, 40, 0.6)); }

/* Styling for the icons inside the cube faces */
.cube-icon { 
    font-size: 3.5rem; 
    line-height: 1; 
    margin-bottom: 0.5rem; 
    filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.3)); /* Icon shadow */
}
/* Ensure icons on light faces are dark for contrast */
.right .cube-icon, .top .cube-icon { color: #053830; filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5)); }

#chatbot {
  position: fixed;
  bottom: 90px;
  right: 30px;
  width: 320px;
  height: 420px;
  background: white;
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  transform: scale(0);
  opacity: 0;
  transition: all 0.5s ease;
  z-index: 9999;
}
.nav-btn {
    @apply text-sm font-semibold text-dark-text px-3 py-1.5 rounded-full hover:bg-primary-green hover:text-white transition;
}

.dropdown-item {
    @apply block px-4 py-2 rounded-lg text-dark-text hover:bg-accent-green¬†transition;
}

/* Chatbot visible state */
#chatbot.open {
  transform: scale(1);
  opacity: 1;

  
}
</style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-green': '#053830', /* Dark Green (053830) */
                        'accent-green': '#D2E8B8', /* Light Green (D2E8B8) */
                        'card-bg': '#F1F2F0',      /* Off-White Background (F1F2F0) */
                        'dark-text': '#262626',    /* Dark Text (262626) */
                        'highlight-gold': '#FF9728', /* Orange Accent (FF9728) */
                        'stroke-bg': '#FFFFFF',    /* White (FFFFFF) */
                        'footer-gray': '#5D5757',  /* New Gray for secondary text/icons (5D5757) */
                    },
                    fontFamily: {
                        /* Used Poppins as requested in the design document */
                        sans: ['Poppins', 'system-ui', '-apple-system', 'Segoe UI', 'Roboto', 'Ubuntu', 'Cantarell', 'Noto Sans', 'sans-serif'],
                    },
                    boxShadow: {
                        '3xl': '0 35px 60px -15px rgba(0, 0, 0, 0.3)',
                    },
                    // Added custom utility to allow content to spread out more
                    maxWidth: {
                        '8xl': '90rem', // 1440px
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sans text-dark-text bg-white antialiased">

<!--  Full Page Loader -->
<!-- ‚ú® Premium Glassy Loader Overlay -->
<div id="pageLoader" 
     class="fixed inset-0 flex flex-col items-center justify-center bg-white/70 backdrop-blur-md z-[9999] transition-all duration-700">
  
  <!-- Animated Spinner -->
  <div class="relative">
    <!-- Outer Dual Ring -->
    <div class="w-20 h-20 border-[5px] border-[#053830]/20 border-t-[#053830] rounded-full animate-spin"></div>
    <!-- Inner Accent Ring -->
    <div class="absolute inset-2 w-16 h-16 border-[4px] border-[#FF9728]/30 border-t-[#FF9728] rounded-full animate-spin-slow"></div>
  </div>

  <!-- Text Below Spinner -->
  <p class="mt-8 text-[#053830] text-lg font-semibold tracking-wide animate-pulse">
    Preparing your experience...
¬†¬†</p>
</div>

    <!-- Custom Alert/Message Box -->
    <div id="message-box" class="fixed inset-0 bg-black bg-opacity-60 z-[9999] hidden items-center justify-center p-4 backdrop-blur-sm">
        <div class="bg-white p-8 rounded-3xl shadow-3xl max-w-sm w-full transition-all duration-500 transform scale-95 opacity-0" id="message-content">
            <h3 class="text-2xl font-bold mb-3 text-primary-green">Thank You!</h3>
            <p id="message-text" class="text-gray-700"></p>
            <button onclick="closeMessageBox()" class="mt-6 w-full bg-primary-green text-white font-semibold py-3 rounded-xl hover:bg-dark-text transition-colors shadow-lg">
                Close
            </button>
        </div>
    </div>
    
    <!-- Navigation -->
    <!-- UPDATED: Reduced padding to minimize gap -->
    <nav class="fixed w-full bg-white/95 px-4 py-2 md:px-8 md:py-2 flex justify-between items-center z-50 shadow-md transition-shadow duration-300">
        <!-- START: UPDATED LOGO STRUCTURE (Logo and text is contained in one element) -->
        <div class="flex items-center gap-2 text-lg font-bold">
            <!-- Icon part (image_a2c49d.png) -->
             
<a href="{% url 'home' %}" 
   class="flex items-center h-full hover:opacity-80 transition-opacity duration-200">

<img 
  src="{% static 'img/logo6.png' %}" 
  alt="Propulsion Technology Logo"
  class="h-10 sm:h-11 md:h-14 w-auto object-contain max-w-[160px]"
/>

</a>

        </div>

        <!-- END: UPDATED LOGO STRUCTURE -->
        
        <!-- Desktop/Mobile Navigation Links (FIXED: Increased gap for tablets (md:) to prevent overlap) -->
       <ul id="navLinks" class="nav-links hidden md:flex md:items-center gap-2 lg:gap-4 transition-shadow duration-300">
            <!-- UPDATED: Gap is now gap-2 on medium (tablet) screens to save space, and gap-4 on large screens -->
            <li><a href="#home" class="text-sm font-semibold text-dark-text px-3 py-1.5 rounded-full hover:bg-primary-green hover:text-white transition-all duration-200">Home</a></li>
            <li><a href="#services" class="text-sm font-semibold text-dark-text px-3 py-1.5 rounded-full hover:bg-primary-green hover:text-white transition-all duration-200">Services</a></li>
            <li><a href="#portfolio" class="text-sm font-semibold text-dark-text px-3 py-1.5 rounded-full hover:bg-primary-green hover:text-white transition-all duration-200">Portfolio</a></li>
            <li><a href="#blog" class="text-sm font-semibold text-dark-text px-3 py-1.5 rounded-full hover:bg-primary-green hover:text-white transition-all duration-200">Resources</a></li>
            <li>
    <a href="{% url 'careers' %}" 
       class="text-sm font-semibold text-dark-text px-3 py-1.5 rounded-full hover:bg-primary-green hover:text-white transition-all duration-200">
       Careers
    </a>
</li>
{% if user.is_authenticated %}

    {% if user.is_staff or user.is_superuser %}
        <!-- Admin Dashboard -->
        <li>
            <a href="{% url 'admin_dashboard' %}"
               class="nav-btn {% if request.path == '/admin/dashboard/' %} bg-primary-green text-white {% endif %}">
               Admin Dashboard
            </a>
        </li>
        <li>
            <a href="{% url 'admin_logout' %}" class="nav-btn">Logout</a>
        </li>

    {% elif user.client_profile %}
        <!-- CLIENT Dashboard -->
<li>
    <a href="{% url 'client:client_dashboard' %}"
       class="text-sm font-semibold px-3 py-1.5 rounded-full transition
              {% if request.path == '/client/dashboard/' %}
                    bg-primary-green text-white
              {% else %}
                    text-dark-text hover:bg-primary-green hover:text-white
              {% endif %}">
        Client Dashboard
    </a>
</li>

<li class="-ml-2">   {# reduces gap #}
    <a href="{% url 'client:client_logout' %}"
       class="text-sm font-semibold px-3 py-1.5 rounded-full text-dark-text 
              hover:bg-primary-green hover:text-white transition">
        Logout
    </a>
</li>

    {% else %}
        <!-- Candidate Dashboard -->
        <li>
            <a href="{% url 'candidate_dashboard' %}"
               class="nav-btn {% if request.path == '/candidate/dashboard/' %} bg-primary-green text-white {% endif %}">
               My Dashboard
            </a>
        </li>
        <li>
            <a href="{% url 'candidate_logout' %}" class="nav-btn">Logout</a>
        </li>
    {% endif %}

{% elif request.session.expert_id %}
    <!-- Expert Dashboard -->
    <li>
        <a href="{% url 'expert_dashboard' %}"
           class="nav-btn {% if request.path == '/expert/dashboard/' %} bg-primary-green text-white {% endif %}">
           Expert Dashboard
        </a>
    </li>
    <li>
        <a href="{% url 'expert_logout' %}" class="nav-btn">Logout</a>
    </li>

{% else %}
    <!-- Only show LOGIN dropdown when NOT logged in -->
<li class="relative dropdown md:static">
    <button class="login-toggle text-sm font-bold text-white bg-highlight-gold px-4 py-1.5 rounded-full hover:bg-orange-600 transition shadow-md">
        Login
    </button>

    <ul class="dropdown-menu absolute right-0 mt-3 bg-white 
               rounded-xl shadow-xl hidden flex-col min-w-[180px] p-2 z-50">

        <li>
            <a href="{% url 'admin_login' %}"
               class="block px-4 py-2 text-dark-text rounded-lg 
                      hover:bg-gray-100 transition">
                Admin/Expert Login
            </a>
        </li>

        <li>
            <a href="{% url 'candidate_login' %}"
               class="block px-4 py-2 text-dark-text rounded-lg 
                      hover:bg-gray-100 transition">
                Candidate Login
            </a>
        </li>

        <li>
            <a href="{% url 'client:client_login' %}"
               class="block px-4 py-2 text-dark-text rounded-lg 
                      hover:bg-gray-100 transition">
                Client Login
            </a>
        </li>

    </ul>
</li>
{% endif %}
        </ul>

        <!-- Mobile Menu Toggle (Hamburger Icon) -->
        <button class="mobile-menu-toggle md:hidden flex flex-col gap-1 cursor-pointer" onclick="toggleMenu()">
            <span class="w-6 h-0.5 bg-dark-text transition-transform duration-300 transform origin-left"></span>
            <span class="w-6 h-0.5 bg-dark-text transition-opacity duration-300"></span>
            <span class="w-6 h-0.5 bg-dark-text transition-transform duration-300 transform origin-left"></span>
        </button>
    </nav>

    <!-- Hero Section -->
    <!-- UPDATED: Reduced padding and increased max-width for less side gap and consistency -->
    <section class="min-h-screen pt-20 md:pt-24 pb-6 px-4 md:px-8 flex items-center bg-card-bg overflow-hidden relative" id="home">
        <!-- Animated background elements -->
        <div class="absolute inset-0 overflow-hidden pointer-events-none">
            <!-- Applying float-animation for continuous motion -->
            <div class="absolute top-20 left-10 w-72 h-72 bg-accent-green/50 rounded-full blur-3xl animate-pulse parallax-layer float-animation" data-speed="-0.1"></div>
            <div class="absolute bottom-20 right-10 w-96 h-96 bg-primary-green/10 rounded-full blur-3xl animate-pulse parallax-layer float-animation" data-speed="0.1" style="animation-delay: 2s;"></div>
        </div>

        <!-- UPDATED: max-w-7xl changed to max-w-8xl for consistency -->
        <div class="max-w-8xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10">
            
            <!-- Hero Text/Content -->
            <div class="lg:order-1 order-2 parallax-layer" data-speed="0.5">
                <!-- Heading 1 style: Poppins Bold (using 6xl for impact) -->
                <h1 class="text-5xl md:text-6xl font-extrabold leading-tight mb-6 text-dark-text fade-in-up">
                    Pioneering<br><span class="text-primary-green">Your Digital Story</span>
                </h1>
                <!-- Sub heading style: Poppins Medium 18 -->
                <p class="text-18px text-gray-700 mb-6 max-w-xl font-medium fade-in-up" style="animation-delay: 0.2s;">
                    We help businesses grow through innovative digital marketing<br>
                    strategies, creative campaigns, and data-driven results that truly matter.
                </p>

                <!-- Hero Buttons (Dimension 201x72, 210x72 shown in doc) -->
                <div class="flex flex-col sm:flex-row gap-4 mb-14 fade-in-up" style="animation-delay: 0.4s;">
                    <!-- Get Started button (Primary) -->
                    <a href="#contact" class="px-10 py-4 w-52 h-[72px] flex items-center justify-center bg-accent-green text-dark-text font-bold text-lg rounded-xl shadow-lg shadow-accent-green/50 hover:bg-primary-green hover:text-white transition-all duration-300 transform hover:scale-[1.02] hover:-translate-y-1 animate-pulse-once">
                        Get Started
                    </a>
                    <!-- Learn More button (Secondary) -->
                    <a href="#services" class="px-10 py-4 w-52 h-[72px] flex items-center justify-center bg-stroke-bg text-dark-text font-bold text-lg rounded-xl border-2 border-gray-300 hover:border-primary-green transition-all duration-300 shadow-md hover:-translate-y-1">
                        Learn More
                    </a>
                </div>

                <!-- Hero Stats (Main Rectangle Dimension 926x176 - approximated with w-full p-8) -->
                <!-- UPDATED: max-w-7xl changed to max-w-8xl for consistency -->
                <div class="w-full bg-accent-green/70 py-12 px-8 rounded-2xl grid grid-cols-1 sm:grid-cols-3 gap-8 shadow-xl border border-accent-green fade-in-up stats-counter" style="animation-delay: 0.6s;">
                    <!-- Text = Poppins Bold 20 (We are using 4xl for the number and text-base/sm for the label) -->
                    <!-- UPDATED: Adjusted text sizes and spacing (mb-1/mb-2) -->
                    <div class="text-left sm:text-center border-b sm:border-b-0 sm:border-r border-accent-green/50 pb-4 sm:pb-0 sm:pr-4">
                        <h3 class="text-4xl font-extrabold text-primary-green mb-2 count-number" id="stat-1" data-target="110" data-suffix="+">0</h3>
                        <p class="text-base font-medium text-dark-text">Website Designs</p>
                    </div>
                    <div class="text-left sm:text-center border-b sm:border-b-0 sm:border-r border-accent-green/50 py-4 sm:py-0 sm:px-4">
                        <h3 class="text-4xl font-extrabold text-primary-green mb-2 count-number" id="stat-2" data-target="2" data-suffix="√ó">0</h3>
                        <p class="text-base font-medium text-dark-text">Fast Responsive Optimize</p>
                    </div>
                    <div class="text-left sm:text-center pt-4 sm:pt-0 sm:pl-4">
                        <h3 class="text-4xl font-extrabold text-primary-green mb-2 count-number" id="stat-3" data-target="1000000" data-prefix="">0</h3>
                        <p class="text-base font-medium text-dark-text">Target Campaigns</p>
                    </div>
                </div>
            </div>

            <!-- Hero Image with Logo (Replaced Lady Image) -->
            <div class="lg:order-2 order-1 flex justify-center lg:justify-end parallax-layer" data-speed="0.3">
<img src="{% static 'img/homescreenlady-removebg-preview.png' %}"
     class="w-[280px] sm:w-[360px] md:w-[450px] object-contain drop-shadow-2xl float-animation">
            </div>
        </div>
    </section>

    <!-- Client Logo Marquee Section -->
    <!-- UPDATED: Reduced padding and increased max-width for less side gap and consistency -->
    <section class="py-8 px-4 md:px-8 bg-card-bg">
        <!-- UPDATED: max-w-7xl changed to max-w-8xl for consistency -->
        <div class="max-w-8xl mx-auto text-center mb-8 reveal">
            <h2 class="text-3xl md:text-4xl font-extrabold text-dark-text">Trusted by Industry Leaders</h2>
            <p class="text-lg text-gray-600 mt-2">Our clients see measurable results. Join them.</p>
        </div>

        <div class="client-marquee relative w-full reveal">
            <div class="client-marquee-content flex items-center">
                
                <!-- START: List 1 - The set of logos -->
                <div class="flex flex-shrink-0">
                    <div class="client-logo-item mx-8">
                        <img src="https://static.vecteezy.com/system/resources/previews/019/637/249/non_2x/abstract-circle-logo-icon-free-png.png" alt="TechCo A Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://cdn-icons-png.flaticon.com/512/5149/5149019.png" alt="FinCorp Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQEY6s4fbaqHy1pU7qI1-gUblYJq77xdiWoHA&s" alt="Retail X Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://png.pngtree.com/png-clipart/20190517/original/pngtree-green-leaf-logo-icon-design-template-vector-png-image_3556506.jpg" alt="Health Z Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRaAyvONRjetIQpakm3fk4I7R9kogDOlezQYg&s" alt="Edu Y Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://www.iconpacks.net/icons/2/free-youtube-logo-icon-2431-thumb.png" alt="Startup S Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQVWzGxiYGlEM-IzG4PWRrn875F0LOcXLulhQ&s" alt="Logistics Logo">
                    </div>
                </div>
                <!-- END: List 1 -->

                <!-- START: List 2 (Duplicated for seamless loop) -->
                <div class="flex flex-shrink-0">
                    <div class="client-logo-item mx-8">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgrP80guDIPF7_ZWQnZ1SsaJaHbZwAaWOrgw&s" alt="TechCo A Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://dynamic.brandcrowd.com/asset/logo/526083b8-ef29-4106-a6da-77dd75fc3591/logo-search-grid-2x?logoTemplateVersion=5&v=638796452043730000" alt="FinCorp Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://cdn-icons-png.flaticon.com/512/3419/3419271.png" alt="Retail X Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://logo-icons.com/cdn/shop/files/Logo-icons-Logomark_a3e8783c-5319-4e17-a710-0b9d917b2fdc.png?height=628&pad_color=ffffff&v=1713285129&width=1200" alt="Health Z Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://img.freepik.com/free-vector/letter-s-box-logo-design-template_474888-3345.jpg?semt=ais_hybrid&w=740&q=80" alt="Edu Y Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://cdn5.vectorstock.com/i/1000x1000/93/79/lightbulb-icon-creative-idea-logo-design-concept-vector-30339379.jpg" alt="Startup S Logo">
                    </div>
                    <div class="client-logo-item mx-8">
                        <img src="https://www.shutterstock.com/image-vector/phoenix-logo-icon-vector-template-260nw-1892584900.jpg" alt="Logistics Logo">
                    </div>
                </div>
                <!-- END: List 2 -->

            </div>
        </div>
    </section>
    <!-- End Client Logo Marquee Section -->
    
    <!-- Services Section -->
    <!-- UPDATED: Reduced padding. The goal is to make the header container follow the max-width, but the slider goes edge-to-edge. -->
    <section class="py-24 px-4 md:px-8 bg-white relative overflow-hidden" id="services">
        <!-- UPDATED: max-w-7xl changed to max-w-8xl for consistency -->
        <div class="max-w-8xl mx-auto relative z-10">
            <header class="text-center mb-16 reveal">
                <p class="text-lg font-semibold text-highlight-gold mb-2">OUR EXPERTISE</p>
                <!-- Heading 1 style: Poppins Bold -->
                <h2 class="text-4xl md:text-5xl font-extrabold text-dark-text mb-4">Our Complete Service Offerings</h2>
                <!-- Sub heading style: Poppins Semibold 32 for the subtitle -->
                <p class="text-2xl font-semibold text-dark-text max-w-2xl mx-auto">
                    Explore our full range of solutions, from SEO to Mobile App Development.
                </p>
            </header>
            
            <!-- Service Cards Slider Container with Navigation Arrows -->
            <!-- CRITICAL CHANGE: Removed max-w-7xl and mx-auto from the parent wrapper of the slider 
                 to allow it to expand fully to the edge of the section padding. -->
            <div class="relative mt-12">
                <!-- Removed -mx-5 md:-mx-10 and used px-0 to push cards closer to edge -->
                <!-- The padding of the overall section (px-4 md:px-8) will define the outer boundary. -->
                <!-- The horizontal-scroll-snap has a negative margin to pull the content to the edge of the viewport. -->
                <div id="services-slider" class="horizontal-scroll-snap -mx-4 md:-mx-8 px-4 md:px-8 pb-10">
                   {% for service in services %}
    <a href="{% url 'service_detail' slug=service.slug %}" 
       class="service-list-card bg-{{ service.color }} p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 block border border-gray-200 flex flex-col justify-between">
        <div>
            <div class="w-16 h-16 bg-primary-green p-3 rounded-xl flex items-center justify-center mb-6 shadow-md text-3xl">
                {{ service.icon }}
            </div>
            <h3 class="text-2xl font-bold mb-4 text-dark-text break-words">
    {{ service.title|truncatechars:40 }}
</h3>
<p class="text-gray-700 text-sm break-words">
    {{ service.description|truncatechars:120 }}
</p>
        </div>
        
    </a>
{% empty %}
    <p class="text-gray-500 text-center">No services added yet.</p>
{% endfor %}

                </div>

                <!-- Navigation Buttons (Hidden on small screens) -->
                <!-- Adjusted ml-5/mr-5 to ml-4/mr-4 to fit new padding -->
                <button onclick="slideScroll(-1)" id="slide-prev" class="absolute top-1/2 left-0 transform -translate-y-1/2 p-3 rounded-full bg-primary-green text-white shadow-xl hover:bg-dark-text transition-all duration-300 z-20 hidden md:block opacity-70 hover:opacity-100 disabled:opacity-30 disabled:cursor-not-allowed ml-4">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <button onclick="slideScroll(1)" id="slide-next" class="absolute top-1/2 right-0 transform -translate-y-1/2 p-3 rounded-full bg-primary-green text-white shadow-xl hover:bg-dark-text transition-all duration-300 z-20 hidden md:block opacity-70 hover:opacity-100 disabled:opacity-30 disabled:cursor-not-allowed mr-4">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path></svg>
                </button>
            </div>
            
            <!-- See All Services button - Dimension 296x72 -->
            <div class="mt-16 w-full flex justify-center reveal">
                <a href="#contact" class="inline-block px-10 py-4 w-[296px] h-[72px] flex items-center justify-center bg-accent-green text-dark-text font-bold text-lg rounded-xl hover:bg-primary-green hover:text-white transition-all duration-300 shadow-xl shadow-accent-green/40 hover:-translate-y-1 group">
                    Start Your Project <span class="ml-2 inline-block transition-transform duration-300 group-hover:translate-x-1">‚Üí</span>
                </a>
            </div>
        </div>
    </section>

<!-- Projects Section (Portfolio) -->
<!-- UPDATED: Reduced padding and increased max-width for less side gap and consistency -->
<section class="py-24 px-4 md:px-8 bg-primary-green relative overflow-hidden rounded-3xl mx-auto max-w-8xl mb-12" id="portfolio">
  <div class="max-w-8xl mx-auto relative z-10">
    <header class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-extrabold text-white mb-4">Our Portfolio</h2>
      <p class="text-lg font-medium text-accent-green max-w-3xl mx-auto">
        A glimpse of our creative work and success stories.
      </p>
    </header>

    <!-- Scroll Container -->
   <div class="relative">
  <!-- CRITICAL CHANGE: Used negative margins to push content to the edges of the section padding.
       The portfolio cards use the same service-list-card width for consistency. -->
  <div id="portfolio-slider" class="horizontal-scroll-snap -mx-4 md:-mx-8 px-4 md:px-8 pb-10 flex gap-6 overflow-x-auto scroll-smooth">

    {% for p in portfolios %}
      <div class="service-list-card bg-white/10 p-6 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl flex flex-col justify-between flex-shrink-0 text-white w-[320px] min-h-[450px]">

        <div>
         <div class="h-48 overflow-hidden rounded-2xl mb-4">
    {% if p.image %}
      <img src="{{ p.image.url }}" alt="{{ p.title }}"
           onerror="this.src='https://placehold.co/400x200/5D5757/FFFFFF?text=Portfolio+Image';"
           class="w-full h-full object-cover transition-transform duration-500 hover:scale-105">
    {% else %}
      <img src="https://placehold.co/400x200/5D5757/FFFFFF?text=No+Image"
           class="w-full h-full object-cover">
    {% endif %}
</div>

          <h3 class="text-2xl font-bold mb-2">{{ p.title }}</h3>
          <p class="text-accent-green text-sm mb-2">{{ p.category }}</p>
          <p class="text-sm text-gray-200">{{ p.description|truncatechars:80 }}</p>
        </div>

        <!-- Stays at bottom -->
        <div class="mt-4">
          <a href="#" class="text-highlight-gold font-semibold text-sm hover:underline inline-flex items-center">
            View Project ‚Üí
          </a>
        </div>

      </div>
    {% empty %}
      <p class="text-center text-gray-300">No portfolio items yet.</p>
    {% endfor %}

  </div>
</div>
      <!-- Navigation Buttons -->
       <!-- Adjusted ml-4/mr-4 to fit new padding -->
      <button onclick="slidePortfolio(-1)" 
        class="absolute top-1/2 left-0 transform -translate-y-1/2 p-3 rounded-full bg-white/20 text-white hover:bg-highlight-gold hover:text-[#053830] transition-all shadow-lg hidden md:block ml-4">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
      </button>

      <button onclick="slidePortfolio(1)" 
        class="absolute top-1/2 right-0 transform -translate-y-1/2 p-3 rounded-full bg-white/20 text-white hover:bg-highlight-gold hover:text-[#053830] transition-all shadow-lg hidden md:block mr-4">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
        </svg>
      </button>
    </div>
  </div>
</section>
    
    <!-- Mission & Vision with CEO Image -->
    <!-- UPDATED: Reduced padding and increased max-width for less side gap and consistency -->
<section class="py-24 px-4 md:px-8 bg-white relative overflow-hidden">
    <div class="max-w-8xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-10 items-start relative z-10">
        
        <!-- Mission Card (Left) -->
        <div class="mv-card mission bg-card-bg p-8 rounded-3xl shadow-xl border-l-4 border-primary-green transition-all duration-500 hover:shadow-2xl hover:border-highlight-gold reveal transform hover:-translate-y-2">
            <h3 class="text-xl font-bold mb-2 text-primary-green">Our Mission</h3>
            <h4 class="text-3xl font-semibold mb-4 text-dark-text">
                Dedicated to Customer Excellence.
            </h4>
            <p class="text-gray-600 leading-relaxed text-sm">
                To empower brands to achieve measurable success in the digital space through data-driven strategies and innovative, human-centric solutions.
            </p>
        </div>

        <!-- Center Digital Marketing Image (Online) -->
<!-- Center Dynamic Marketing Visual -->
<div class="flex justify-center items-center py-10 lg:py-0 reveal">
    <div class="relative w-64 h-64 flex items-center justify-center">
        <!-- Background Glow -->
        <div class="absolute inset-0 bg-primary-green/10 rounded-full blur-2xl animate-pulse-soft"></div>
        
        <!-- Main Floating Illustration (Monitor/Data) -->
        <div class="animate-float relative z-10">
            <svg viewBox="0 0 200 200" class="w-48 h-48 drop-shadow-2xl" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)">
                <rect x="40" y="130" width="120" height="10" rx="2" fill="#374151"/>
                <rect x="50" y="50" width="100" height="80" rx="4" fill="#E5E7EB"/>
                <rect x="55" y="55" width="90" height="60" rx="2" fill="#ffffff"/>
                <rect x="65" y="90" width="10" height="20" fill="#10b981" />
                <rect x="80" y="80" width="10" height="30" fill="#fbbf24" />
                <rect x="95" y="70" width="10" height="40" fill="#10b981" />
                <rect x="110" y="85" width="10" height="25" fill="#374151" />
                <circle cx="150" cy="140" r="5" fill="#374151" />
            </svg>
        </div>

        <!-- Orbiting Icon 1: Engagement (Red Heart) -->
        <div class="absolute animate-orbit-1">
            <div class="bg-white p-2 rounded-lg shadow-lg border border-primary-green/20">
                <svg class="w-6 h-6 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" />
                </svg>
            </div>
        </div>

        <!-- Orbiting Icon 2: Growth (Green Arrow) -->
        <div class="absolute animate-orbit-2" style="animation-delay: -2s;">
            <div class="bg-white p-2 rounded-lg shadow-lg border border-primary-green/20">
                <svg class="w-6 h-6 text-primary-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                </svg>
            </div>
        </div>

        <!-- Orbiting Icon 3: Search (Blue Magnifying Glass) -->
        <div class="absolute animate-orbit-1" style="animation-delay: -5s;">
            <div class="bg-white p-2 rounded-lg shadow-lg border border-primary-green/20">
                <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                </svg>
            </div>
        </div>
    </div>
</div>

        <!-- Vision Card (Right) -->
        <div class="mv-card vision bg-card-bg p-8 rounded-3xl shadow-xl border-r-4 border-primary-green transition-all duration-500 hover:shadow-2xl hover:border-highlight-gold reveal transform hover:-translate-y-2">
            <h3 class="text-xl font-bold mb-2 text-primary-green">Our Vision</h3>
            <h4 class="text-3xl font-semibold mb-4 text-dark-text">
                Striving for Industry Leadership.
            </h4>
            <p class="text-gray-600 leading-relaxed text-sm">
                To formulate strategies that define the future of brands, pushing the boundaries of human experience in a digital-first world.
            </p>
        </div>

    </div>
</section>

   <!-- Feedback Section (Enhanced with Texture) -->
<section id="feedback" class="py-20 bg-accent-green relative overflow-hidden">
  <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between">
    
    <!-- LEFT TEXT SECTION -->
    <div class="w-full md:w-1/2 mb-10 md:mb-0">
      <h2 class="text-3xl font-bold text-dark-text mb-2">See Feedback</h2>
      <p class="text-dark-text text-lg">Why Customers Love Working With Us.</p>
    </div>

    <!-- RIGHT SLIDER SECTION -->
    <div class="w-full md:w-1/2 relative">
      <div class="relative overflow-hidden bg-[#D2E8B8] rounded-3xl shadow-2xl transition-all duration-500">

        <!-- ‚úÖ Fixed Width Slider Wrapper -->
        <div id="feedback-slider" class="flex transition-transform duration-700 ease-in-out w-full">
          {% for fb in feedbacks %}
          <div class="w-full flex-shrink-0 px-8 py-10 md:px-10 md:py-12">
            <blockquote class="text-lg italic text-[#053830] leading-relaxed mb-4">
              <span class="text-3xl text-[#053830]/70 mr-2">‚ùù</span>{{ fb.feedback }}<span class="text-3xl text-[#053830]/70 ml-2">‚ùû</span>
            </blockquote>
            <p class="text-[#053830] font-semibold text-right mt-4">‚Äî {{ fb.client_name }}</p>
          </div>
          {% empty %}
          <div class="w-full flex-shrink-0 text-gray-700 italic text-center p-8">No feedback available yet.</div>
          {% endfor %}
        </div>
      </div>

      <!-- NAVIGATION BUTTONS -->
      <button id="prevFeedback"
              class="absolute left-[-15px] top-1/2 transform -translate-y-1/2 bg-primary-green text-white rounded-full w-9 h-9 flex items-center justify-center shadow-md hover:bg-highlight-gold transition">
        &#10094;
      </button>
      <button id="nextFeedback"
              class="absolute right-[-15px] top-1/2 transform -translate-y-1/2 bg-primary-green text-white rounded-full w-9 h-9 flex items-center justify-center shadow-md hover:bg-highlight-gold transition">
        &#10095;
      </button>

      <!-- Pagination Dots -->
      <div id="feedback-dots" class="flex justify-center mt-6 space-x-2"></div>
    </div>
  </div>
</section>

<!-- Blog Section (with Horizontal Scroll + Auto Slide) -->
<!-- UPDATED: Reduced padding and increased max-w-8xl for consistency -->
<section class="py-24 px-4 md:px-8 bg-white relative overflow-hidden rounded-3xl mx-auto max-w-8xl mb-12" id="blog">
  <header class="text-center mb-16 reveal">
    <p class="text-lg font-semibold text-highlight-gold mb-2">KNOWLEDGE HUB</p>
    <h2 class="text-4xl md:text-5xl font-extrabold text-dark-text mb-4">Latest Insights</h2>
  </header>

  <div class="relative">
    <!-- Blog Slider -->
    <div id="blog-slider" 
     class="horizontal-scroll-snap -mx-4 md:-mx-8 px-4 md:px-8 pb-10 flex gap-6 overflow-x-auto scroll-smooth snap-x snap-mandatory">

      {% for post in latest_posts %}
<a href="{% url 'blog_detail' slug=post.slug %}"
   class="flex-shrink-0 w-80 md:w-96 snap-start bg-card-bg rounded-3xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-200 flex flex-col justify-between h-[480px]">
  
  <!-- Image -->
  <div class="h-56 w-full object-cover rounded-t-3xl overflow-hidden">
    {% if post.featured_image %}
    <img src="{{ post.featured_image.url }}" alt="{{ post.title }}"
         class="w-full h-full object-cover transition-transform duration-500 hover:scale-105">
    {% else %}
    <div class="h-full bg-gradient-to-br from-primary-green/10 to-dark-text/10 flex items-center justify-center text-6xl text-primary-green/50">
      üí°
    </div>
    {% endif %}
  </div>

  <!-- Content -->
  <div class="p-8 flex flex-col justify-between flex-grow">
    <div>
      <h3 class="text-xl font-bold mb-3 text-dark-text hover:text-primary-green transition-colors">
        {{ post.title }}
      </h3>
      <p class="text-gray-600 text-sm leading-relaxed">
        {{ post.summary|truncatechars:120 }}
      </p>
    </div>

    <div class="flex justify-between items-center mt-6 pt-4 border-t border-gray-200 text-sm font-semibold">
      <span class="text-gray-500">By {{ post.author.username }}</span>
      <span class="text-primary-green hover:underline">Read More ‚Üí</span>
    </div>
  </div>
</a>
      {% empty %}
      <div class="col-span-full text-center py-6">
        <p class="text-gray-500">No recent blog posts available.</p>
      </div>
      {% endfor %}
    </div>

    <!-- Navigation Buttons -->
    <button onclick="slideBlog(-1)" 
      class="absolute top-1/2 left-0 transform -translate-y-1/2 p-3 rounded-full bg-[#053830]/20 text-[#053830] hover:bg-[#FF9728] hover:text-white transition-all shadow-lg hidden md:block ml-4">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
    </button>

    <button onclick="slideBlog(1)" 
      class="absolute top-1/2 right-0 transform -translate-y-1/2 p-3 rounded-full bg-[#053830]/20 text-[#053830] hover:bg-[#FF9728] hover:text-white transition-all shadow-lg hidden md:block mr-4">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
      </svg>
    </button>
  </div>
</section>

    <!-- Contact Section -->
<!-- UPDATED: Re-designed with a dark background and a two-column grid for the animation and form -->
<section class="py-24 px-4 md:px-8 bg-primary-green text-white relative overflow-hidden" id="contact">
  <!-- Background pattern for visual interest on dark background -->
  <div class="absolute inset-0 bg-[url('https://cdn.tailgrids.com/1.0/assets/svg/dots.svg')] opacity-10"></div>
      
  <!-- Main container for content -->
  <div class="max-w-8xl mx-auto relative z-10">
    <!-- Grid layout for desktop: 2 columns -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            
      <!-- LEFT SIDE: Animation and Info (Updated with Digital Marketing Cube) -->
      <div class="lg:order-1 order-2 text-center lg:text-left reveal h-full min-h-[450px] flex flex-col justify-center">
        <!-- Header/Call to Action -->
        <h2 class="text-4xl md:text-5xl font-extrabold mb-4 text-highlight-gold">
          Ready to Propel Your Brand?
        </h2>
        <p class="text-lg text-gray-200 mb-8 max-w-lg lg:max-w-full mx-auto">
          Let's discuss your project goals. We're eager to partner with you and bring your digital story to life.
        </p>
                
        <!-- Contact Details -->
        <div class="space-y-4 mb-10 text-lg">
          <p class="flex items-center justify-center lg:justify-start gap-3 font-semibold text-accent-green">
            <svg class="w-6 h-6 text-highlight-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
            Info@propulsiontech.in
          </p>
          <p class="flex items-center justify-center lg:justify-start gap-3 font-semibold text-accent-green">
            <svg class="w-6 h-6 text-highlight-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
            
+91 8850144797
          </p>
        </div>

        <!-- 3D Animation (Digital Marketing Cube) -->
        <div class="cube-container mt-10 lg:mt-0">
          <div class="rotating-cube">
            <!-- Face 1: Strategy (Target) -->
            <div class="cube-face front rounded-lg">
              <span class="cube-icon">üéØ</span>
              <span class="text-sm uppercase tracking-wider">Strategy</span>
            </div>
            <!-- Face 2: Data/Analytics (Chart) -->
            <div class="cube-face back rounded-lg">
              <span class="cube-icon">üìà</span>
              <span class="text-sm uppercase tracking-wider">Analytics</span>
            </div>
            <!-- Face 3: Social Media (Global) -->
            <div class="cube-face right rounded-lg">
              <span class="cube-icon">üåê</span>
              <span class="text-sm uppercase tracking-wider">Social</span>
            </div>
            <!-- Face 4: Search Engine Optimization (Magnifying Glass) -->
            <div class="cube-face left rounded-lg">
              <span class="cube-icon">üîç</span>
              <span class="text-sm uppercase tracking-wider">Search</span>
            </div>
            <!-- Face 5: Content Creation (Pencil/Writing) -->
            <div class="cube-face top rounded-lg">
              <span class="cube-icon">‚úçÔ∏è</span>
              <span class="text-sm uppercase tracking-wider">Content</span>
            </div>
            <!-- Face 6: Speed/Development (Lightning) -->
            <div class="cube-face bottom rounded-lg">
              <span class="cube-icon">‚ö°</span>
              <span class="text-sm uppercase tracking-wider">Velocity</span>
            </div>
          </div>
        </div>

      </div>
            
      <!-- RIGHT SIDE: Contact Form -->
      <div class="lg:order-2 order-1 w-full reveal">
        <!-- Form container (white card) -->
<div class="bg-white p-3 sm:p-4 rounded-xl shadow-lg max-w-md mx-auto w-full scale-95 min-h-[220px] flex flex-col justify-start hover:scale-[0.97] hover:shadow-xl transition-all duration-500">
  <h3 class="text-2xl font-extrabold text-[#053830] tracking-tight text-center mb-3">
    Send Us a Message
  </h3>

  <!-- Popup Message Container -->
<div id="popupMessage" class="hidden fixed top-5 left-1/2 transform -translate-x-1/2 
bg-green-100 text-green-800 border border-green-300 px-4 py-2 rounded shadow¬†z-50">
</div>

  <form id="contactForm"
        action="{% url 'contact_submit' %}"
        method="POST"
        enctype="multipart/form-data"
        class="contact-form space-y-2 text-sm">
    {% csrf_token %}

 <!-- Name -->
   <div class="mb-3">
  <label for="{{ contact_form.name.id_for_label }}"
         class="block text-xs font-semibold text-gray-700 mb-1">
    Full Name *
  </label>

  {{ contact_form.name|add_class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary-green focus:border-primary-green text-dark-text text-sm transition-all" }}

  <span id="nameError" class="text-red-600 text-xs"></span>
</div>


    <!-- Email -->
    <div>
      <label for="{{ contact_form.email.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-1">Email Address *</label>
      {{ contact_form.email|add_class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary-green focus:border-primary-green text-dark-text text-sm transition-all" }}
    <span id="emailError" class="text-red-600 text-xs"></span>
    </div>

    <!-- Subject -->
    <div>
      <label for="{{ contact_form.subject.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-1">Subject *</label>
      {{ contact_form.subject|add_class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primary-green focus:border-primary-green text-dark-text text-sm transition-all" }}
    <span id="subjectError" class="text-red-600 text-xs"></span>
    <span class="text-[11px] text-gray-500" id="subjectCounter">0/300</span>
    </div>

    <!-- Message -->
    <div>
      <label for="{{ contact_form.message.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-1">Message *</label>
      {{ contact_form.message|add_class:"w-full px-3 py-2 border border-gray-300 rounded-lg min-h-[80px] focus:ring-primary-green focus:border-primary-green text-dark-text text-sm transition-all" }}
    <span id="messageError" class="text-red-600 text-xs"></span>
    <span class="text-[11px] text-gray-500 block" id="messageCounter">0/300</span>
    </div>

    <!-- Attachment -->
<div>
  <label for="{{ contact_form.attachment.id_for_label }}" class="block text-xs font-semibold text-gray-700 mb-1">
    Attachment (optional)
  </label>

  {{ contact_form.attachment }}

  <p class="text-[10px] text-gray-500 mt-1">PDF or DOCX only. Max 5 MB.</p>

  <!-- File name preview + remove button -->
  <div id="filePreview" class="hidden mt-1 flex items-center gap-2">
      <p id="fileNameDisplay" class="text-[12px] text-blue-600 underline font-medium"></p>

      <!-- ‚ùå Remove button -->
      <button 
          id="removeFileBtn" 
          type="button" 
          class="text-red-600 font-bold text-lg leading-none hover:text-red-800">
          ‚úï
      </button>
  </div>
</div>

    <!-- Submit -->
    <button type="submit"
            id="submitBtn"
            class="w-full bg-primary-green text-white font-semibold py-2 rounded-lg hover:bg-primary-green-hover transition-all shadow-md shadow-primary-green/40 text-sm">
      Send Message
    </button>
  </form>
</div>
      </div>

    </div>
  </div>
</section>


<!-- ‚úÖ JavaScript for validation + submission alert -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.getElementById('contactForm');
  const alertBox = document.getElementById('formAlert');
  const submitBtn = document.getElementById('submitBtn');

  // These elements use Django tags, so they might not be present if the form isn't rendered correctly.
  const nameField = document.getElementById('{{ contact_form.name.id_for_label }}');
  const emailField = document.getElementById('{{ contact_form.email.id_for_label }}');
  const messageField = document.getElementById('{{ contact_form.message.id_for_label }}');
  const fileField = document.getElementById('{{ contact_form.attachment.id_for_label }}');

  const nameError = document.getElementById('nameError');
  const emailError = document.getElementById('emailError');
  const fileError = document.getElementById('fileError');
  const counter = document.getElementById('charCount');
  const maxLength = 1000;

  // ‚úÖ Character counter (safe check)
  if (messageField && counter) {
    messageField.addEventListener('input', () => {
      if (messageField.value.length > maxLength) {
        messageField.value = messageField.value.slice(0, maxLength);
      }
      const len = messageField.value.length;
      counter.textContent = `${len} / ${maxLength}`;
      counter.classList.toggle('text-red-500', len >= maxLength - 50);
    });
  }

  // ‚úÖ Validation functions
  const validateName = () => {
    if (!nameField) return true;
    const nameRegex = /^[A-Za-z\s]+$/;
    if (nameField.value.trim() === "") {
      if (nameError) {
        nameError.textContent = "Full Name is required.";
        nameError.classList.remove('hidden');
      }
      return false;
    } else if (!nameRegex.test(nameField.value.trim())) {
      if (nameError) {
        nameError.textContent = "Please enter a valid name (letters and spaces only).";
        nameError.classList.remove('hidden');
      }
      return false;
    }
    if (nameError) nameError.classList.add('hidden');
    return true;
  };
  // üëâ LIVE restriction: block numbers while typing
if (nameField) {
  nameField.addEventListener("input", function () {
    this.value = this.value.replace(/[^A-Za-z\s]/g, "");  // remove numbers instantly
  });
}
form.addEventListener("submit", function (e) {
  if (!validateName()) {
    e.preventDefault();
    return;
  }
});


  const validateEmail = () => {
    if (!emailField) return true;
    const emailRegex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
    if (emailField.value.trim() === "") {
      if (emailError) {
        emailError.textContent = "Email Address is required.";
        emailError.classList.remove('hidden');
      }
      return false;
    } else if (!emailRegex.test(emailField.value.trim())) {
      if (emailError) {
        emailError.textContent = "Please enter a valid Gmail address (must end with @gmail.com).";
        emailError.classList.remove('hidden');
      }
      return false;
    }
    if (emailError) emailError.classList.add('hidden');
    return true;
  };

  const validateFile = () => {
    if (!fileField) return true;
    if (fileError) fileError.classList.add('hidden');

    if (fileField.files.length > 0) {
      const file = fileField.files[0];
      const allowed = [
        'application/pdf',
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
      ];

      if (!allowed.includes(file.type)) {
        if (fileError) {
          fileError.textContent = "Only PDF or DOCX files are allowed.";
          fileError.classList.remove('hidden');
        }
        return false;
      }
      if (file.size > 5 * 1024 * 1024) {
        if (fileError) {
          fileError.textContent = "File size must not exceed 5 MB.";
          fileError.classList.remove('hidden');
        }
        return false;
      }
    }
    return true;
  };

  // ‚úÖ Attach listeners only if elements exist
  if (nameField) nameField.addEventListener('input', validateName);
  if (emailField) emailField.addEventListener('input', validateEmail);
  if (fileField) fileField.addEventListener('change', validateFile);

  // ‚úÖ Form submission handler
  if (form) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const valid = validateName() && validateEmail() && validateFile();
      if (!valid) {
        if (alertBox) {
          alertBox.textContent = "‚ö† Please correct the highlighted errors and try again.";
          alertBox.className = "p-4 rounded-xl text-center font-semibold bg-red-100 text-red-800 border border-red-300";
          alertBox.classList.remove('hidden');
        }
        return;
      }

      if (alertBox) alertBox.classList.add('hidden');
      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
      }

      const formData = new FormData(form);
      try {
        const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

        const response = await fetch(form.action, {
          method: 'POST',
          body: formData,
          headers: {
            'X-Requested-With': 'XMLHttpRequest',
            'X-CSRFToken': csrfToken
          }
        });

        // ‚úÖ Safe JSON parsing
        let data;
        const raw = await response.text();
        console.log("Raw response:", raw);
        try {
          data = JSON.parse(raw);
        } catch (err) {
          console.warn("Response not valid JSON, using fallback");
          data = { success: false };
        }
        console.log("Parsed response:", data);

 if (data.success) {
  if (alertBox) {
    alertBox.textContent = '‚úÖ Message sent successfully!';
    alertBox.className =
      'p-4 rounded-xl text-center font-semibold bg-green-100 text-green-800 border border-green-300 shadow-md transition-opacity duration-500';
    alertBox.classList.remove('hidden');
    alertBox.style.opacity = '1';
  }

  // OPTIONAL uploaded file link
  if (data.attachment_url && alertBox) {
    const fileMsg = document.createElement("p");
    fileMsg.className = "mt-2 text-sm text-blue-700 underline";
    fileMsg.innerHTML = `üìé Uploaded File: <a href="${data.attachment_url}" target="_blank">View</a>`;
    alertBox.appendChild(fileMsg);
  }

  /* ===============================
     ‚úÖ HARD RESET FORM + FILE UI
     =============================== */

  form.reset(); // resets inputs

  // üî• FORCE clear file input & preview
  const fileInput = document.getElementById("id_attachment");
  const filePreview = document.getElementById("filePreview");
  const fileNameDisplay = document.getElementById("fileNameDisplay");

  if (fileInput) fileInput.value = "";
  if (filePreview) filePreview.classList.add("hidden");
  if (fileNameDisplay) fileNameDisplay.textContent = "";

  // reset counters
  if (counter) counter.textContent = '0 / 1000';

  // fade alert
  setTimeout(() => {
    if (alertBox) {
      alertBox.style.opacity = '0';
      setTimeout(() => alertBox.classList.add('hidden'), 600);
    }
  }, 4000);
}



      } catch (error) {
        console.error("JS Fetch error:", error);
        if (alertBox) {
          alertBox.textContent = "‚ùå Something went wrong. Please try again later.";
          alertBox.className = "p-4 rounded-xl text-center font-semibold bg-red-100 text-red-800 border border-red-300";
          alertBox.classList.remove('hidden');
        }
      } finally {
        if (submitBtn) {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Send Message';
        }
      }
    });
  }
});

document.addEventListener("DOMContentLoaded", () => {
    const fileInput = document.getElementById("id_attachment");
    const filePreview = document.getElementById("filePreview");
    const fileNameDisplay = document.getElementById("fileNameDisplay");
    const removeBtn = document.getElementById("removeFileBtn");

    fileInput.addEventListener("change", () => {
        const file = fileInput.files[0];
        if (!file) return;

        // Show file name
        fileNameDisplay.textContent = "Selected: " + file.name;

        // Show preview area
        filePreview.classList.remove("hidden");
    });

    removeBtn.addEventListener("click", () => {
        // Reset file input
        fileInput.value = "";

        // Hide preview
        filePreview.classList.add("hidden");

        // Clear text
        fileNameDisplay.textContent = "";
    });
});

document.addEventListener("DOMContentLoaded", () => {
  const contactForm = document.getElementById("contactForm");
  const attachmentInput = document.getElementById("id_attachment");
  const fileNameDisplay = document.getElementById("fileNameDisplay");

  if (!contactForm || !attachmentInput || !fileNameDisplay) {
    console.error("One or more elements not found");
    return;
  }

  let attachmentValid = true;

  attachmentInput.addEventListener("change", () => {
    const file = attachmentInput.files[0];
    attachmentValid = true;

    // Hide error initially
    fileNameDisplay.classList.add("hidden");
    fileNameDisplay.textContent = "";
    fileNameDisplay.style.color = "red"; // ensure text color is red

    if (!file) return;

    const maxSizeMB = 5;
    const sizeMB = file.size / (1024 * 1024);

    if (sizeMB > maxSizeMB) {
      fileNameDisplay.textContent = "‚ùå File too large. Maximum allowed size is 5 MB.";
      fileNameDisplay.classList.remove("hidden");
      attachmentInput.value = "";
      attachmentValid = false;
    } else {
      fileNameDisplay.textContent = `Selected: ${file.name}`;
      fileNameDisplay.classList.remove("hidden");
      fileNameDisplay.style.color = "green"; // optional: valid selection color
    }
  });

  contactForm.addEventListener("submit", (e) => {
    if (!attachmentValid) {
      e.preventDefault();
      fileNameDisplay.classList.remove("hidden");
      return false;
    }
  });
});

</script>



    <!-- Footer -->
    <!-- UPDATED: Reduced padding. max-w-7xl changed to max-w-8xl for consistency -->
    <footer class="bg-dark-text text-white py-16 px-4 md:px-8">
        <div class="max-w-8xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12 border-b border-gray-700 pb-12 mb-8">
            <div class="space-y-4">
                <h3 class="text-2xl font-bold text-accent-green">Propulsion Tech</h3>
                <p class="text-gray-400 text-sm leading-relaxed">Creating digital experiences that inspire and engage. Let's build something amazing together.</p>
<div class="flex items-center justify-start gap-4 mt-4 ml-[-6px]">

 <!-- Twitter -->
  <!-- <a href="https://twitter.com/"
     target="_blank"
     title="Follow us on X (Twitter)"
     class="w-10 h-10 bg-gray-800 text-white rounded-full flex items-center justify-center
            transition-all duration-300 hover:bg-accent-green hover:text-dark-text hover:scale-110
            hover:shadow-[0_0_12px_2px_rgba(72,187,120,0.5)] shadow-md">
    <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/X_logo_2023_original.svg" class="w-3.5 h-3.5" alt="X">

  </a> -->

  <!-- Instagram -->
  <a href="https://www.instagram.com/"
     target="_blank"
     title="Follow us on Instagram"
     class="w-10 h-10 bg-gray-800 text-white rounded-full flex items-center justify-center
            transition-all duration-300 hover:bg-accent-green hover:text-dark-text hover:scale-110
            hover:shadow-[0_0_12px_2px_rgba(72,187,120,0.5)] shadow-md">
    <img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Instagram_logo_2016.svg" class="w-5 h-5" alt="Instagram">

  </a>

  <!-- LinkedIn -->
  <a href="https://www.linkedin.com/"
     target="_blank"
     title="Connect with us on LinkedIn"
     class="w-10 h-10 bg-gray-800 text-white rounded-full flex items-center justify-center
            transition-all duration-300 hover:bg-accent-green hover:text-dark-text hover:scale-110
            hover:shadow-[0_0_12px_2px_rgba(72,187,120,0.5)] shadow-md">
    <img src="https://upload.wikimedia.org/wikipedia/commons/c/ca/LinkedIn_logo_initials.png" class="w-5 h-5" alt="LinkedIn">

  </a>

  <!-- Facebook -->
<a href="https://www.facebook.com/"
   target="_blank"
   title="Follow us on Facebook"
   class="w-10 h-10 bg-gray-800 text-white rounded-full flex items-center justify-center
          transition-all duration-300 hover:bg-accent-green hover:text-dark-text hover:scale-110
          hover:shadow-[0_0_12px_2px_rgba(72,187,120,0.5)] shadow-md">
<img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Facebook_Logo_%282019%29.png" class="w-5 h-5" alt="Facebook">

</a>

</div>
             </div>
       <div>
  <h3 class="text-lg font-semibold mb-5 border-l-2 border-accent-green pl-3">Services</h3>

  <div class="flex flex-col">
    <ul id="services-list" class="space-y-3 text-sm transition-all duration-500 overflow-hidden max-h-[250px]">
      {% for service in footer_services %}
        <li class="{% if forloop.counter > 5 %}hidden extra-service{% endif %}">
          <a href="{% url 'service_detail' service.slug %}" 
             class="text-gray-400 hover:text-accent-green transition-colors">
            {{ service.title|upper }}
          </a>
        </li>
      {% empty %}
        <li class="text-gray-400">No services available yet.</li>
      {% endfor %}
    </ul>

    <div class="mt-2">
      <button id="toggle-services"
              class="text-accent-green text-sm font-semibold hover:underline focus:outline-none transition-colors">
        View All Services
      </button>
    </div>
  </div>
</div>

            <div>
                <h3 class="text-lg font-semibold mb-5 border-l-2 border-accent-green pl-3">Company</h3>
                <ul class="space-y-3 text-sm">
                    <li><a href="{% url 'about_our_story' %}" class="text-gray-400 hover:text-accent-green transition-colors">About Our Story</a></li>
                    <li><a href="{% url 'meet_the_team' %}" class="text-gray-400 hover:text-accent-green transition-colors">Meet The Team</a></li>
                    <li><a href="{% url 'join_our_mission' %}" class="text-gray-400 hover:text-accent-green transition-colors">Join Our Mission</a></li>
                    <li><a href="/#contact" class="text-gray-400 hover:text-accent-green transition-colors">Contact Center</a></li>
                    <li><a href="{% url 'our_values' %}" class="text-gray-400 hover:text-accent-green transition-colors">Our Values</a></li>
                </ul>
            </div>
            <div>
                <h3 class="text-lg font-semibold mb-5 border-l-2 border-accent-green pl-3">Get In Touch</h3>
                <ul class="space-y-3 text-sm text-gray-400">
                    <li class="flex items-center gap-2">üìß <a href="mailto:info@propulsiontech.in" class="hover:text-accent-green">Info@propulsiontech.in</a></li>
                   <!-- <li class="flex items-center gap-2">üìß <a href="mailto:hr@propulsiontech.in" class="hover:text-accent-green">hr@propulsiontech.in</a></li> -->
                    <li class="flex items-center gap-2">üìû <a href="tel:+15551234567" class="hover:text-accent-green">+91 8850144797</a></li>
                    <li class="flex flex-col gap-2">
  <div class="bg-gradient-to-br from-blue-50 to-indigo-100 p-6 rounded-2xl shadow-2xl max-w-md mx-auto mt-10 transform transition hover:scale-[1.02] duration-300">
  <h2 class="text-xl font-bold text-gray-800 mb-3 text-center flex items-center justify-center gap-2">
    <span>üìç</span> Visit Our Location
  </h2>
  
  <div class="relative group">
    <!-- Glow effect -->
<div class="relative w-full h-40 md:h-48 rounded-lg overflow-hidden border border-white shadow-[0_5px_15px_rgba(0,0,0,0.3)] transform group-hover:scale-[1.01] transition duration-500 ease-out">
  <iframe
    src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3782.1735649275474!2d73.7655303!3d18.5662122!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2bf6c0840d3f7%3A0x171dd702d03dcb8!2sQuick%20Office%20Coworking%20Space-%20Baner%20-Balewadi!5e0!3m2!1sen!2sin!4v1765973248224!5m2!1sen!2sin"
    width="100%"
    height="100%"
    style="border:0;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade"
    class="rounded-lg"
  ></iframe>
</div>
 <p class="text-center text-gray-600 mt-3 text-sm">
    Visit our office in <span class="font-semibold text-indigo-700">Pune, India</span>
  </p>
</div>
</li>
  </ul>
     </div>
       </div>
           <div class="text-center text-gray-500 text-sm">
             <p>
  &copy; 2025 Propulsion Technology. All rights reserved.
  <a href="{% url 'privacy_policy' %}" class="text-accent-green font-medium hover:underline">Privacy Policy</a> |
  <a href="{% url 'terms_of_service' %}" class="text-accent-green font-medium hover:underline">Terms of Service</a>
</p>
        </div>
    </footer>

    <script>
        // --- Custom Alert/Message Box Functions ---
        function showMessageBox(message) {
            const messageBox = document.getElementById('message-box');
            const messageContent = document.getElementById('message-content');
            document.getElementById('message-text').textContent = message;

            messageBox.classList.remove('hidden');
            messageBox.classList.add('flex');
            
            setTimeout(() => {
                messageContent.classList.remove('opacity-0', 'scale-95');
                messageContent.classList.add('opacity-100', 'scale-100');
            }, 10);
        }

        function closeMessageBox() {
            const messageBox = document.getElementById('message-box');
            const messageContent = document.getElementById('message-content');

            messageContent.classList.remove('opacity-100', 'scale-100');
            messageContent.classList.add('opacity-0', 'scale-95');

            setTimeout(() => {
                messageBox.classList.remove('flex');
                messageBox.classList.add('hidden');
            }, 500);
        }

        // --- Drag-to-Scroll Logic for the Services Slider ---

        function checkSliderState() {
            const slider = document.getElementById('services-slider');
            const prevButton = document.getElementById('slide-prev');
            const nextButton = document.getElementById('slide-next');

            if (!slider || !prevButton || !nextButton) return;

            const scrollPosition = slider.scrollLeft;
            const maxScroll = slider.scrollWidth - slider.clientWidth;

            // Disable Previous button if at the start
            prevButton.disabled = scrollPosition === 0;

            // Disable Next button if at the end (allowing for slight floating point differences)
            nextButton.disabled = scrollPosition >= maxScroll - 5;
        }
        
        function slideScroll(direction) {
            const slider = document.getElementById('services-slider');
            // UPDATED: Used new card width (360px) + the gap (2rem = 32px) as the scroll distance
            const scrollDistance = 360 + 32; 

            if (slider) {
                slider.scrollBy({
                    left: direction * scrollDistance,
                    behavior: 'smooth'
                });
            }

            // A short delay is needed for smooth scroll to finish before checking state
            setTimeout(checkSliderState, 350);
        }
        window.slideScroll = slideScroll; // Expose to global scope for HTML onclick

        function setupDragToScroll() {
            const slider = document.getElementById('services-slider');
            if (!slider) return;

            let isDown = false;
            let startX;
            let scrollLeft;
            let moved = false; // To check if actual drag happened

            slider.addEventListener('mousedown', (e) => {
                isDown = true;
                moved = false;
                slider.classList.add('is-dragging');
                startX = e.pageX - slider.offsetLeft;
                scrollLeft = slider.scrollLeft;
            });

            slider.addEventListener('mouseleave', () => {
                isDown = false;
                slider.classList.remove('is-dragging');
            });

            slider.addEventListener('mouseup', () => {
                isDown = false;
                slider.classList.remove('is-dragging');
                // Check state after mouse up event
                setTimeout(checkSliderState, 100); 
            });

            slider.addEventListener('mousemove', (e) => {
                if (!isDown) return;
                e.preventDefault();
                const x = e.pageX - slider.offsetLeft;
                const walk = (x - startX) * 2; // Scroll faster
                slider.scrollLeft = scrollLeft - walk;
                if (Math.abs(walk) > 5) {
                    moved = true;
                }
            });

            // Touch events for mobile swiping
            slider.addEventListener('touchstart', (e) => {
                isDown = true;
                moved = false;
                slider.classList.add('is-dragging');
                startX = e.touches[0].pageX - slider.offsetLeft;
                scrollLeft = slider.scrollLeft;
            });

            slider.addEventListener('touchend', () => {
                isDown = false;
                slider.classList.remove('is-dragging');
            });

            slider.addEventListener('touchcancel', () => {
                isDown = false;
                slider.classList.remove('is-dragging');
            });

            slider.addEventListener('touchmove', (e) => {
                if (!isDown || e.touches.length === 0) return;
                const x = e.touches[0].pageX - slider.offsetLeft;
                const walk = (x - startX) * 2;
                slider.scrollLeft = scrollLeft - walk;
                if (Math.abs(walk) > 5) {
                    moved = true;
                }
            });


            
            // Re-check state on scroll (necessary for manual drag/swipe)
            slider.addEventListener('scroll', checkSliderState);
        }


  
       function animateCount(element, start, end, duration, suffix, prefix) {
            let startTime = null;

            const step = (timestamp) => {
                if (!startTime) startTime = timestamp;
                const progress = timestamp - startTime;
                const percentage = Math.min(progress / duration, 1);
                
                // Use a cubic ease-out function for a smoother stop
                const easedPercentage = 1 - Math.pow(1 - percentage, 3);
                
                const currentValue = Math.floor(start + easedPercentage * (end - start));
                
                // Add comma separators for large numbers (like 1,000,000)
                const formattedValue = currentValue.toLocaleString();

                element.textContent = (prefix || '') + formattedValue + (suffix || '');

                if (percentage < 1) {
                    window.requestAnimationFrame(step);
                } else {
                    // Ensure the final, accurate number is set once counting is done
                    element.textContent = (prefix || '') + end.toLocaleString() + (suffix || '');
                }
            };

            window.requestAnimationFrame(step);
        }

    // --- Start Blog/Portfolio Auto-Slide Setup ---
    const SLIDE_AMOUNT = 360 + 32; // Card width + gap = 392
    let blogAutoScroll;
    let portfolioAutoSlideInterval;

    function slideBlog(direction) {
        const slider = document.getElementById('blog-slider');
        if (slider) {
            slider.scrollBy({ left: direction * SLIDE_AMOUNT, behavior: 'smooth' });
        }
    }
    
    function startBlogAutoScroll() {
        const slider = document.getElementById('blog-slider');
        if (!slider) return; 
        
        stopBlogAutoScroll();
        blogAutoScroll = setInterval(() => {
            if (slider.scrollLeft + slider.offsetWidth >= slider.scrollWidth - 10) {
                slider.scrollTo({ left: 0, behavior: 'smooth' });
            } else {
                slider.scrollBy({ left: SLIDE_AMOUNT, behavior: 'smooth' });
            }
        }, 3000);
    }

    function stopBlogAutoScroll() {
        if (blogAutoScroll) clearInterval(blogAutoScroll);
    }

    function slidePortfolio(direction) {
        const slider = document.getElementById('portfolio-slider');
        if (slider) {
            slider.scrollBy({ left: direction * SLIDE_AMOUNT, behavior: 'smooth' });
        }
    }
    
    function startPortfolioAutoSlide() {
        const slider = document.getElementById('portfolio-slider');
        if (!slider) return; 

        stopPortfolioAutoSlide();
        portfolioAutoSlideInterval = setInterval(() => {
            if (slider.scrollLeft + slider.offsetWidth >= slider.scrollWidth - 10) {
                slider.scrollTo({ left: 0, behavior: 'smooth' });
            } else {
                slider.scrollBy({ left: SLIDE_AMOUNT, behavior: 'smooth' });
            }
        }, 3000);
    }

    function stopPortfolioAutoSlide() {
        if (portfolioAutoSlideInterval) clearInterval(portfolioAutoSlideInterval);
    }
    // --- End Blog/Portfolio Auto-Slide Setup ---
        
        // Setup Intersection Observer to start counting when stats enter view
        const setupStatCounting = () => {
            const statNumbers = document.querySelectorAll('.count-number');

            if (statNumbers.length === 0) return;

            const observerOptions = {
                root: null, // viewport
                rootMargin: '0px',
                threshold: 0.5 // Trigger when 50% of the element is visible
            };

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const element = entry.target;
                        const target = parseInt(element.getAttribute('data-target'));
                        const suffix = element.getAttribute('data-suffix');
                        const prefix = element.getAttribute('data-prefix');
                        
                        // Handle the 2x case specifically to ensure '2x' is the final string, not '2'
                        const isTwoTimes = element.getAttribute('data-target') === '2';
                        let finalTarget = target;
                        let finalSuffix = suffix;
                        
                        if (isTwoTimes) {
                            // Target must be 2 for the math, but the final display is '2x'
                            finalTarget = 2; // Count up to 2
                        } else if (target === 1000000) {
                            // Custom formatting for 1M
                            finalTarget = 1; // Count up to 1
                            finalSuffix = 'M';
                        }


                        animateCount(element, 0, finalTarget, 2000, finalSuffix, prefix);
                        observer.unobserve(element); // Stop observing once the animation starts
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);

            statNumbers.forEach(number => {
                // Initialize text content to '0' to prepare for animation
                const suffix = number.getAttribute('data-suffix');
                const prefix = number.getAttribute('data-prefix');
                
                if (number.getAttribute('data-target') === '1000000') {
                    // For the 1M stat, display 0M initially
                    number.textContent = '0M';
                } else {
                    number.textContent = (prefix || '') + '0' + (suffix || '');
                }

                observer.observe(number);
            });
        };
        
        // --- End Stat Counting Logic ---

        // --- Scroll Parallax and Reveal Animation Setup ---
        const setupParallax = () => {
            const homeSection = document.getElementById('home');
            
            // Parallax (Scroll-based)
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                if (homeSection) {
                    const parallaxElements = homeSection.querySelectorAll('.parallax-layer');
                    
                    parallaxElements.forEach(element => {
                        const speed = parseFloat(element.getAttribute('data-speed')) || 0.5;
                        // Adjust the speed for background elements vs foreground image
                        const yPos = -(scrolled * speed); 
                        element.style.transform = `translateY(${yPos}px)`;
                    });
                }
            });

            // Removed all 3D tilt logic for hero image and service cards.
        };

        const revealElements = document.querySelectorAll('.reveal');
        const staggerItems = document.querySelectorAll('.stagger-item');
        const revealPoint = 100;

        const revealOnScroll = () => {
            const windowHeight = window.innerHeight;
            
            revealElements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                if (elementTop < windowHeight - revealPoint) {
                    element.classList.add('active');
                }
            });

            staggerItems.forEach((item, index) => {
                const itemTop = item.getBoundingClientRect().top;
                if (itemTop < windowHeight - revealPoint) {
                    setTimeout(() => {
                        item.classList.add('active');
                    }, index * 100);
                }
            });
        };

        // --- Navigation and Form Logic ---

        // Mobile menu toggle
        function toggleMenu() {
            const navLinks = document.getElementById('navLinks');
            const toggleButton = document.querySelector('.mobile-menu-toggle');
            
            if (navLinks) navLinks.classList.toggle('mobile-active');
            
            if (toggleButton) {
                const spans = toggleButton.querySelectorAll('span');
                if (navLinks && navLinks.classList.contains('mobile-active')) {
                    spans[0].style.transform = 'rotate(45deg) translate(5px, 5px)';
                    spans[1].style.opacity = '0';
                    spans[2].style.transform = 'rotate(-45deg) translate(5px, -5px)';
                } else {
                    spans[0].style.transform = 'none';
                    spans[1].style.opacity = '1';
                    spans[2].style.transform = 'none';
                }
            }
        }
        window.toggleMenu = toggleMenu;

        const setupDropdownToggle = () => {
             // Dropdown toggle
            const loginToggle = document.querySelector('.login-toggle');
            if (loginToggle) {
                 loginToggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const menu = this.nextElementSibling;
                    if (menu) {
                        menu.classList.toggle('hidden');
                        menu.classList.toggle('flex');
                    }
                });
            }

            // Close dropdown when clicking outside
            document.addEventListener('click', function() {
                const menu = document.querySelector('.dropdown-menu');
                if (menu && menu.classList.contains('flex')) {
                    menu.classList.remove('flex');
                    menu.classList.add('hidden');
                }
            });
        }
        
        const setupSmoothScrolling = () => {
             // Smooth scrolling
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const headerOffset = 80; 
                        const elementPosition = target.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });

                        // Close mobile menu after clicking a link
                        const navLinks = document.getElementById('navLinks');
                        if (navLinks && navLinks.classList.contains('mobile-active')) {
                            toggleMenu();
                        }
                    }
                });
            });
        }

        // Form submission uses custom message box
        function handleSubmit(e) {
            e.preventDefault();
            showMessageBox('Thank you for your message! We will get back to you soon. Your interest in Propulsion Technology is valued!');
            e.target.reset();
        }
        window.handleSubmit = handleSubmit;

        const setupNavShadow = () => {
             // Scroll animation for nav shadow
            window.addEventListener('scroll', () => {
                const nav = document.querySelector('nav');
                if (nav) {
                    if (window.pageYOffset > 50) {
                        nav.classList.add('shadow-xl', 'bg-white/95');
                        nav.classList.remove('shadow-md');
                    } else {
                        nav.classList.remove('shadow-xl', 'bg-white/95');
                        nav.classList.add('shadow-md');
                    }
                }
            });
        }
       
        // FIX: Consolidated all element-dependent initialization inside the load listener.
        window.addEventListener('load', () => {
            // Initial calls on load
            setupDragToScroll(); // initialize drag functionality
            checkSliderState(); // check initial slider state
            revealOnScroll();
            setupParallax(); 
            setupDropdownToggle();
            setupSmoothScrolling();
            setupNavShadow();
            setupStatCounting(); // start observing for stat animation
            
            // Centralized slider startup and listener attachment (was function setupSliderListeners)
            const blogSlider = document.getElementById('blog-slider');
            const portfolioSlider = document.getElementById('portfolio-slider');

            // Set up hover listeners for Blog Slider
            if (blogSlider) {
                blogSlider.addEventListener('mouseenter', stopBlogAutoScroll);
                blogSlider.addEventListener('mouseleave', startBlogAutoScroll);
                startBlogAutoScroll(); // Start immediately
            }

            // Set up hover listeners for Portfolio Slider
            if (portfolioSlider) {
                portfolioSlider.addEventListener('mouseenter', stopPortfolioAutoSlide);
                portfolioSlider.addEventListener('mouseleave', startPortfolioAutoSlide);
                startPortfolioAutoSlide(); // Start immediately
            }
        });
        window.addEventListener('scroll', revealOnScroll);
    </script>

    

<!-- üåü Propulsion Assistant Chatbot -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Propulsion Assistant | Propulsion Technology</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Using Tailwind utilities; minimal custom CSS -->
</head>
<body class="bg-[#EAF4E0] font-sans">

  <!-- Scroll to Top Button -->
  <button id="scrollTopBtn"
          class="fixed bottom-20 right-6 bg-[#FF9728] text-white rounded-full w-12 h-12
                 flex items-center justify-center shadow-xl opacity-0 scale-0
                 transition-all duration-500 ease-in-out
                 hover:scale-110 hover:bg-[#053830] hover:shadow-2xl z-[9999]">
    <!-- Up Arrow Icon -->
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
    </svg>
    <span class="sr-only">Scroll to top</span>
  </button>

  <!-- Chat button -->
<div id="chatbotButton"
  class="fixed bottom-6 right-6 bg-[#053830] w-14 h-14 flex items-center justify-center rounded-full shadow-lg cursor-pointer
         hover:scale-110 transition-transform duration-300 z-[9999]">
  <svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24" class="w-6 h-6">
    <path d="M2 4.75A2.75 2.75 0 0 1 4.75 2h14.5A2.75 2.75 0 0 1 22 4.75v9.5A2.75 2.75 0 0 1 19.25 17H7.31l-3.67 3.11A.75.75 0 0 1 2 19.5v-14.75Z"/>
  </svg>
</div>

  <!-- Chat window -->
  <div id="chatbotWindow"
       class="hidden fixed bottom-24 right-6 bg-white w-80 rounded-2xl shadow-2xl border border-gray-200 overflow-hidden z-[9999]">

    <div class="bg-[#053830] text-white px-4 py-3 flex justify-between items-center">
      <h3 class="font-semibold text-lg">Propulsion Assistant</h3>
      <button id="closeChat" class="text-white text-xl font-bold" aria-label="Close chat">√ó</button>
    </div>

    <!-- messages container: flex column, scrollable -->
    <div id="chatMessages" class="p-4 h-80 overflow-y-auto text-sm text-gray-800 bg-[#EAF4E0] flex flex-col space-y-3">
      <!-- bot welcome message (wrapped for alignment) -->
      <div class="flex justify-start">
        <div class="bg-white p-3 rounded-xl shadow-sm inline-block max-w-[75%] break-words break-all whitespace-normal">
          üëã Hello! I‚Äôm your <b>Propulsion Assistant</b>.<br>
          How can I help you today?
        </div>
      </div>
    </div>

    <div class="p-3 bg-white border-t border-gray-200 flex">
      <input id="chatInput" type="text" placeholder="Type your message..."
             class="flex-grow p-2 border rounded-xl text-sm focus:outline-none focus:border-[#053830]" aria-label="Chat input">
      <button id="sendBtn"
              class="ml-2 bg-[#FF9728] text-[#053830] font-bold px-3 py-2 rounded-xl
                     hover:bg-[#053830] hover:text-white transition">
        Send
      </button>
    </div>
  </div>

  <script>
    // ---------- Scroll to Top Button ----------
    const scrollTopBtn = document.getElementById('scrollTopBtn');

    if (scrollTopBtn) { // Safety check added
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
          scrollTopBtn.classList.remove('opacity-0', 'scale-0');
          scrollTopBtn.classList.add('opacity-100', 'scale-100');
        } else {
          scrollTopBtn.classList.add('opacity-0', 'scale-0');
          scrollTopBtn.classList.remove('opacity-100', 'scale-100');
        }
      });

      scrollTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // ---------- Chatbot UI Control ----------
    const chatButton = document.getElementById('chatbotButton');
    const chatWindow = document.getElementById('chatbotWindow');
    const closeChat = document.getElementById('closeChat');
    const sendBtn = document.getElementById('sendBtn');
    const chatInput = document.getElementById('chatInput');
    const chatMessages = document.getElementById('chatMessages');

    if (chatButton && chatWindow) { // Safety checks added
      chatButton.addEventListener('click', () => {
        chatWindow.classList.toggle('hidden');
        // focus input when opening
        if (!chatWindow.classList.contains('hidden') && chatInput) {
          setTimeout(() => chatInput.focus(), 150);
        }
      });
    }

    if (closeChat && chatWindow) { // Safety checks added
      closeChat.addEventListener('click', () => {
        chatWindow.classList.add('hidden');
      });
    }

    if (sendBtn) { // Safety check added
      sendBtn.addEventListener('click', sendMessage);
    }
    
    if (chatInput) { // Safety check added
      chatInput.addEventListener('keypress', (e) => {
        if (e.key === 'Enter') sendMessage();
      });
    }

    async function sendMessage() {
      if (!chatInput) return; // Final input check inside sendMessage

      const msg = chatInput.value.trim();
      if (!msg) return;

      // Create wrapper for user message (align right)
      const userRow = document.createElement('div');
      userRow.className = 'flex justify-end';

      const userBubble = document.createElement('div');
      // inline-block + max width + break classes ensure long words wrap
      userBubble.className = 'bg-[#FF9728] text-[#053830] p-3 rounded-xl shadow-sm inline-block max-w-[75%] break-words break-all whitespace-normal';
      userBubble.textContent = msg; // textContent keeps it safe (no HTML injection)

      userRow.appendChild(userBubble);
      if (chatMessages) chatMessages.appendChild(userRow);
      chatInput.value = '';

      // Scroll to bottom
      if (chatMessages) chatMessages.scrollTop = chatMessages.scrollHeight;

      // Send message to Django backend
      try {
        const response = await fetch('/chatbot/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': getCookie('csrftoken')
          },
          body: JSON.stringify({ message: msg })
        });

        const data = await response.json();

        // Bot reply row (align left)
        const botRow = document.createElement('div');
        botRow.className = 'flex justify-start';

        const botBubble = document.createElement('div');
        botBubble.className = 'bg-white p-3 rounded-xl shadow-sm inline-block max-w-[75%] break-words break-all whitespace-normal text-gray-800';
        botBubble.textContent = data.reply || "Sorry, I didn‚Äôt quite get that.";

        botRow.appendChild(botBubble);
        if (chatMessages) chatMessages.appendChild(botRow);

      } catch (err) {
        // show error reply
        const errRow = document.createElement('div');
        errRow.className = 'flex justify-start';
        const errBubble = document.createElement('div');
        errBubble.className = 'bg-white p-3 rounded-xl shadow-sm inline-block max-w-[75%] break-words break-all whitespace-normal text-gray-800';
        errBubble.textContent = "Error: could not reach server.";
        errRow.appendChild(errBubble);
        if (chatMessages) chatMessages.appendChild(errRow);
        console.error(err);
      } finally {
        if (chatMessages) chatMessages.scrollTop = chatMessages.scrollHeight;
      }
    }

    // Helper to get Django CSRF token
    function getCookie(name) {
      let cookieValue = null;
      if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
          const cookie = cookies[i].trim();
          if (cookie.substring(0, name.length + 1) === (name + '=')) {
            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
            break;
          }
        }
      }
      return cookieValue;
    }
  </script>

<script>
// üåü Loader Fade & Scale Effect
window.addEventListener("load", () => {
  const loader = document.getElementById("pageLoader");
  if (loader) {
    loader.style.opacity = "0";
    loader.style.transform = "scale(1.05)";
    setTimeout(() => loader.style.display = "none", 800);
  }
});

// üåÄ Inline Button Loader for Forms
document.querySelectorAll("form").forEach(form => {
  form.addEventListener("submit", () => {
    const btn = form.querySelector("button[type='submit']");
    if (btn) {
      btn.disabled = true;
      btn.classList.add("opacity-75", "cursor-not-allowed");
      btn.innerHTML = `
        <div class='flex items-center justify-center gap-2'>
          <div class='w-5 h-5 border-2 border-[#FF9728] border-t-transparent rounded-full animate-spin'></div>
          <span>Submitting...</span>
        </div>`;
    }
  });
});

// üïê Custom slow spin animation using Tailwind‚Äôs arbitrary value
tailwind.config = {
  theme: {
    extend: {
      animation: {
        'spin-slow': 'spin 2.5s linear infinite',
      }
    }
  }
}
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const toggleBtn = document.getElementById("toggle-services");
  const extraServices = document.querySelectorAll(".extra-service");
  const list = document.getElementById("services-list");

  if (toggleBtn && extraServices.length > 0) {
    toggleBtn.addEventListener("click", () => {
      const isHidden = extraServices[0].classList.contains("hidden");

      // Smooth expand/collapse with max-height animation
      if (isHidden) {
        extraServices.forEach(li => li.classList.remove("hidden"));
        list.style.maxHeight = list.scrollHeight + "px";
        toggleBtn.textContent = "View Less";
      } else {
        extraServices.forEach(li => li.classList.add("hidden"));
        list.style.maxHeight = "250px";
        toggleBtn.textContent = "View All Services";
        toggleBtn.scrollIntoView({ behavior: "smooth", block: "center" });
      }
    });
  } else if (toggleBtn) {
    toggleBtn.classList.add("hidden");
  }
});
</script>

<script>
  const slider = document.getElementById('feedback-slider');
  const slides = slider.children;
  const dotsContainer = document.getElementById('feedback-dots');
  let index = 0;
  let autoSlide;

  // Create dots dynamically
  for (let i = 0; i < slides.length; i++) {
    const dot = document.createElement('span');
    dot.className = 'w-2.5 h-2.5 bg-gray-400 rounded-full cursor-pointer transition';
    dot.addEventListener('click', () => showSlide(i));
    dotsContainer.appendChild(dot);
  }

  function updateDots() {
    Array.from(dotsContainer.children).forEach((dot, i) => {
      dot.className = i === index
        ? 'w-2.5 h-2.5 bg-highlight-gold rounded-full transition'
        : 'w-2.5 h-2.5 bg-gray-400 rounded-full transition';
    });
  }

  function showSlide(n) {
    index = (n + slides.length) % slides.length;
    slider.style.transform = `translateX(-${index * 100}%)`;
    updateDots();
  }

  document.getElementById('nextFeedback').addEventListener('click', () => showSlide(index + 1));
  document.getElementById('prevFeedback').addEventListener('click', () => showSlide(index - 1));

  // ‚úÖ Auto scroll with pause on hover
  function startAutoSlide() {
    autoSlide = setInterval(() => showSlide(index + 1), 5000);
  }
  function stopAutoSlide() {
    clearInterval(autoSlide);
  }

  const feedbackSection = document.getElementById('feedback');
  feedbackSection.addEventListener('mouseenter', stopAutoSlide);
  feedbackSection.addEventListener('mouseleave', startAutoSlide);

  startAutoSlide();
  updateDots();
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const sections = document.querySelectorAll("section[id]");
    const navLinks = document.querySelectorAll("#navLinks a[href^='#']");

    function activateMenu() {
        let scrollPos = window.scrollY + 150;

        sections.forEach(section => {
            let top = section.offsetTop;
            let height = section.offsetHeight;
            let id = section.getAttribute("id");

            if (scrollPos >= top && scrollPos < top + height) {
                navLinks.forEach(link => link.classList.remove("active"));

                const activeLink = document.querySelector(`#navLinks a[href='#${id}']`);
                if (activeLink) activeLink.classList.add("active");
            }
        });
    }

    window.addEventListener("scroll", activateMenu);
    activateMenu();
});
</script>


<script>
function showPopupMessage(message, type = 'success') {
    const popup = document.getElementById('popupMessage');

    if (type === "success") {
        popup.className =
        "fixed top-5 left-1/2 transform -translate-x-1/2 bg-green-100 text-green-800 border border-green-300 px-4 py-2 rounded shadow z-50 whitespace-pre-line";
    } 
    else {
        popup.className =
        "fixed top-5 left-1/2 transform -translate-x-1/2 bg-red-100 text-red-800 border border-red-300 px-4 py-2 rounded shadow z-50 whitespace-pre-line";
    }

    popup.innerText = message;
    popup.classList.remove("hidden");

    setTimeout(() => popup.classList.add("hidden"), 4000);
}
</script>

<script>
document.getElementById("contactForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    const form = e.target;
    const btn = form.querySelector('button[type="submit"]');

    // Disable button + show loading
    btn.disabled = true;
    btn.innerText = "Submitting...";
    btn.classList.add("opacity-70", "cursor-not-allowed");

    const formData = new FormData(form);

    try {
        const response = await fetch(form.action, {
            method: "POST",
            body: formData,
            headers: { "X-Requested-With": "XMLHttpRequest" }
        });

        const data = await response.json();

        // SUCCESS
        if (data.success === true) {
            showPopupMessage("Message sent successfully!", "success");

            form.reset();

            // Reset button
            btn.innerText = "Send Message";
            btn.disabled = false;
            btn.classList.remove("opacity-70", "cursor-not-allowed");

            return;
        }

        // ERRORS
        if (data.success === false && data.errors) {
            let errorText = "";
            for (let field in data.errors) {
                data.errors[field].forEach(msg => {
                    errorText += `${field}: ${msg}\n`;
                });
            }
            showPopupMessage(errorText.trim(), "error");
        }

    } catch (error) {
        showPopupMessage("Something went wrong! Please try later.", "error");
        console.error(error);

    } finally {
        // Always restore button if there is any error
        btn.innerText = "Send Message";
        btn.disabled = false;
        btn.classList.remove("opacity-70", "cursor-not-allowed");
    }
});
</script>


<script>
document.addEventListener("DOMContentLoaded", function () {

    const subjectField = document.getElementById("id_subject");
    const messageField = document.getElementById("id_message");

    const subjectCounter = document.getElementById("subjectCounter");
    const messageCounter = document.getElementById("messageCounter");

    const MAX_LIMIT = 300;

    // ---- SUBJECT COUNTER ----
    subjectField.addEventListener("input", function () {
        let len = subjectField.value.length;

        if (len > MAX_LIMIT) {
            subjectField.value = subjectField.value.slice(0, MAX_LIMIT);
            len = MAX_LIMIT;
        }
        subjectCounter.textContent = `${len}/${MAX_LIMIT}`;
    });

    // ---- MESSAGE COUNTER ----
    messageField.addEventListener("input", function () {
        let len = messageField.value.length;

        if (len > MAX_LIMIT) {
            messageField.value = messageField.value.slice(0, MAX_LIMIT);
            len = MAX_LIMIT;
        }
        messageCounter.textContent = `${len}/${MAX_LIMIT}`;
    });

    // ---- ATTACHMENT: ALLOW ALL FILE TYPES ----
    const fileInput = document.getElementById("id_attachment");
    const fileError = document.getElementById("fileError");

    fileInput.addEventListener("change", function () {
        fileError.textContent = "";  // no validation now
    });
});
fileInput.addEventListener("change", function () {
    const fileNameElement = document.getElementById("fileName");

    if (fileInput.files.length > 0) {
        fileNameElement.textContent = "Selected: " + fileInput.files[0].name;
    } else {
        fileNameElement.textContent = "";
    }
});

const attachmentInput = document.getElementById("id_attachment"); // Django auto-generated id
const fileNameDisplay = document.getElementById("fileNameDisplay");

if (attachmentInput) {
  attachmentInput.addEventListener("change", () => {
    if (attachmentInput.files.length > 0) {
      let fileName = attachmentInput.files[0].name;
      fileNameDisplay.textContent = "Selected file: " + fileName;
      fileNameDisplay.classList.remove("hidden");
    } else {
      fileNameDisplay.classList.add("hidden");
    }
  });
}

</script>






<!-- <script>
  // üåü Auto open chatbot when page loads
  window.addEventListener('load', () => {
    const chatWindow = document.getElementById('chatbotWindow');
    const chatButton = document.getElementById('chatbotButton');

    // Open chatbot automatically
    chatWindow.classList.remove('hidden');

    // Focus input box
    const chatInput = document.getElementById('chatInput');
    setTimeout(() => chatInput.focus(), 300);

    // Close automatically after 1 second (1000 ms)
    setTimeout(() => {
      chatWindow.classList.add('hidden');
    }, 5000);
  });
</script> -->

</body>
</html>